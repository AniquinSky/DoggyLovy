{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}{% endblock %}</h1>
{% endblock %}

{% block content %}
<form method="post" enctype="multipart/form-data">
  {% for message in get_flashed_messages() %}
  <div class="flash">{{ message }}</div>
  {% endfor %}

  <!-- Empieza Registro -->
  <div class="container-fluid">
    <div class="d-flex flex-column text-center mb-5">
      <h4 class="text-secondary mb-3">Registrate con nosotros</h4>
      <h1 class="display-4 m-0">Ingresa <span class="text-primary">tus datos</span></h1>
  </div>
  <div class="container">
      <div class="row align-items-center">
          <div class="col-lg-5">
              <div class="bg-primary py-5 px-4 px-sm-5">
                  <form class="py-5">
                    <!--Aquí empiezan las cajas de texto de registro-->
                      <div class="form-group">
                        <input 
                          name="username"
                          id="username" 
                          class="form-control border-0 p-4" 
                          placeholder="Nombre de Usuario" 
                          required 
                          pattern="[A-Za-z0-9\-_\.]{3,}"
                          maxlength=20
                          oninvalid="this.setCustomValidity('Ingrese un nombre de usuario entre 3 y 20 caracteres. Puede tener los simbolos \x22_\x22, \x22.\x22 o \x22-\x22.')"
                          oninput="this.setCustomValidity('')"
                        />
                      </div>

                      <div class="form-group">
                        <input
                          name="personName"
                          id="personName"
                          class="form-control border-0 p-4"
                          placeholder="Nombre completo"
                          required
                          maxlength=255
                          oninvalid="this.setCustomValidity('Ingrese su nombre completo')"
                          oninput="this.setCustomValidity('')"
                        />
                      </div>
                      
                      <div class="form-group">                   
                        <select name="gender" id="gender" class="custom-select border-0 px-4" style="height: 47px;">
                          <option selected disabled>Genero</option>
                          <option value="hombre">Hombre</option>
                          <option value="mujer">Mujer</option>
                        </select>
                      </div>

                      <div class="form-group">
                        <input
                          type="email"
                          name="email"
                          id="email"
                          class="form-control border-0 p-4"
                          placeholder="Correo electronico"
                          required
                          maxlength=255
                          oninvalid="this.setCustomValidity('Ingrese una direccion de correo electronico valida')"
                          oninput="this.setCustomValidity('')"
                        />
                      </div>

                      <div class="form-group">
                        <input
                          name="phoneNumber"
                          id="phoneNumber"
                          class="form-control border-0 p-4"
                          placeholder="Numero de telefono"
                          maxlength=10
                          minlength=10
                          required
                          pattern="[0-9]+"
                          oninvalid="this.setCustomValidity('Ingrese un numero de telefono valido')"
                          oninput="this.setCustomValidity('')"
                        />
                      </div>
                      
                      <div class="form-group">
                        
                        <div class="date" data-target-input="nearest">
                          <label for="birthDate" style="color: black">Fecha de nacimiento:</label>
                            <input 
                              type="date" 
                              name="birthDate"
                              id="birthDate"
                              class="form-control border-0 p-4 datetimepicker-input" 
                              placeholder="Fecha de nacimiento" 
                              data-target="#date" 
                              data-toggle="datetimepicker"
                              min="1910-01-01"
                              max="2005-01-01"
                              required
                              oninvalid="this.setCustomValidity('Ingrese su fecha de nacimiento')"
                              oninput="this.setCustomValidity('')"
                            />
                        </div>
                      </div>

                      <div class="form-group">
                        <input
                          type="password"
                          name="password"
                          id="password"
                          class="form-control border-0 p-4"
                          placeholder="Contrasena"
                          required
                          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\da-zA-Z]).{8,}$"
                          oninvalid="this.setCustomValidity('Ingrese una contrasena de minimo 8 caracteres, una mayuscula, un numero y un simbolo especial')"
                          oninput="this.setCustomValidity('')"
                        />    
                      </div>

                      <div class="form-group">
                        <input
                          type="password"
                          name="confirmPassword"
                          id="confirmPassword"
                          class="form-control border-0 p-4"
                          placeholder="Confirmar contrasena"
                          required
                          onblur="checkPasswords()"
                        />
                      </div>
                      <div class="form-group">
                        <label for="dni" style="color: black">Foto de INE:</label>
                        <input
                          type="file"
                          name="dni"
                          id="dni"
                          class="form-control border-0 p-4"
                          accept="image/png, image/jpg, image/jpeg"
                          required
                          oninvalid="this.setCustomValidity('Ingrese una foto de su INE')"
                          oninput="this.setCustomValidity('')"
                        />
                      </div>
                     <!--Aquí terminan las cajas de texto de registro-->

                     <!-- Boton de registro -->
                      <div>
                        <button type="submit" class="btn btn-dark btn-block border-0 py-3">Registrarme</button>
                        <!-- <button class="btn btn-dark btn-block border-0 py-3" type="submit">Registrarme</button> -->
                      </div>
                  </form> 
                    <a style="color: black" href = "{{ url_for('auth.login') }}">Tengo cuenta</a>
                  <!-- <button type="button" class="login-button" onclick="window.location.href = '{{ url_for('auth.login') }}' ; "/>
                    Ya tengo cuenta.
                  </button> -->
              </div>
          </div>
          <div class="col-lg-7 py-5 py-lg-0 px-3 px-lg-5">
              <h4 class="text-secondary mb-3">¿Por qué registrarse?</h4>
              <!-- <h1 class="display-4 mb-4">Book For <span class="text-primary">Your Pet</span></h1> -->
              <p>Inscribirse en una página para encontrar pareja para tu mascota puede tener varios beneficios. 
                Aquí hay algunas razones por las cuales podrías considerar hacerlo:</p>
              <div class="row py-2">
                  <div class="col-sm-6">
                      <div class="d-flex flex-column">
                          <div class="d-flex align-items-center mb-2">
                              <h1 class="flaticon-house font-weight-normal text-secondary m-0 mr-3"></h1>
                              <h5 class="text-truncate m-0">Bienestar:</h5>
                          </div>
                          <p>Proporcionar compañía a tu mascota puede mejorar su bienestar emocional y r
                            educir el estrés, especialmente si pasan mucho tiempo solas.</p>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="d-flex flex-column">
                          <div class="d-flex align-items-center mb-2">
                              <h1 class="flaticon-food font-weight-normal text-secondary m-0 mr-3"></h1>
                              <h5 class="text-truncate m-0">Actividad Física:</h5>
                          </div>
                          <p>Jugar y socializar con otro animal puede aumentar la actividad física de tu mascota, 
                            lo que es crucial para mantener un estilo de vida saludable.</p>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="d-flex flex-column">
                          <div class="d-flex align-items-center mb-2">
                              <h1 class="flaticon-grooming font-weight-normal text-secondary m-0 mr-3"></h1>
                              <h5 class="text-truncate m-0">Evitar la Soledad:</h5>
                          </div>
                          <p class="m-0">Si trabajas largas horas o viajas con frecuencia, 
                            una pareja para tu mascota puede ayudar a evitar la soledad, brindándoles compañía constante.</p>
                      </div>
                  </div>
                  <div class="col-sm-6">
                      <div class="d-flex flex-column">
                          <div class="d-flex align-items-center mb-2">
                              <h1 class="flaticon-toy font-weight-normal text-secondary m-0 mr-3"></h1>
                              <h5 class="text-truncate m-0">Comportamiento:</h5>
                          </div>
                          <p class="m-0">La interacción con otros animales puede ayudar a desarrollar y 
                            fomentar comportamientos positivos en tu mascota, mejorando su temperamento y habilidades sociales.</p>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
<!-- Termina registro -->
<script type="text/javascript">
  function checkPasswords() {
    passInput = document.getElementById("password")
    confPassInput = document.getElementById("confirmPassword")
    confPassInput.setCustomValidity("")

    if (passInput.value != confPassInput.value) {
      confPassInput.setCustomValidity("Las contrasenas no coinciden")
    }
  }
</script>
{% endblock %}
